# 🚀 Awesome-NAS-Guide: NAS入门指南

## 🎯 功能实现清单 (What You Will Build)

> 💡 **图例说明**：✅ 已完成文档 | 🚧 编写/折腾中 | ⏳ 计划中

跟随本教程，你将不仅拥有一个存储设备，更将获得一个**全能的家庭数据中心**。我们将逐一解锁以下成就：

### 🍎 1. 核心资产保护 (Backup & Recovery)

* ✅ **省下 iCloud 订阅费**：部署 Immich/MT Photos，实现全家 iPhone/Android 照片自动备份，支持 Live Photo 与 AI 智能搜图。
* ✅ **Mac 无感保护**：基于 Samba/AFP 协议优化，体验像原厂一样丝滑的 Time Machine (时间机器) 无线备份。
* 🚧 **多端文件同步**：部署 Syncthing/Verysync，实现公司电脑、家里 NAS、手机三端文件实时同步，替代坚果云。
* ✅ **数据保险箱**：本地敏感数据加密后，利用 Rclone 自动同步到阿里云盘/115，构建 "3-2-1" 容灾体系。

### 🎬 2. 极致影音娱乐 (Home Media Center)

* ✅ **影音自由**：通过 qBittorrent + MoviePilot 实现自动追剧、自动下载、自动刮削海报，打造私人 Netflix。
* 🚧  **全格式播放**：部署 Jellyfin/Plex/Emby，利用核显硬件解码，在外网也能流畅观看 4K HDR 蓝光电影。
* 🚧  **私人 Spotify**：部署 Navidrome/Audiobookshelf，管理你的无损音乐和有声书库，支持手机端流媒体播放。
* 🚧  **电子书库**：部署 Calibre-Web，将 NAS 变成你的私人 Kindle 书库，支持推送到阅读器。

### 🌐 3. 网络与安全 (Network & Security)

* ✅ **打破内网限制**：解决无公网 IPv4 痛点，通过 IPv6 + DDNS 实现全球任意地点高速访问家庭网络。
* 🚧  **全屋去广告**：部署 AdGuard Home，从 DNS 层面拦截全屋设备的视频广告和追踪器，保护家人隐私。
* 🚧 **密码管家**：自建 Vaultwarden (Bitwarden)，将所有账号密码握在自己手里，告别 LastPass 收费。
* ⏳ **安全访问网关**：配置 Nginx Proxy Manager (NPM)，自动申请 SSL 证书，实现 HTTPS 访问，隐藏真实端口。

### 🏠 4. 智慧生活与自动化 (Smart Home)

* ✅ **智能家居中枢**：部署 Home Assistant，打破品牌壁垒，将小米/涂鸦设备接入 Apple HomeKit，用 Siri 控制全屋。
* 🚧 **自动化脚本**：编写自动化逻辑（如：硬盘温度过高 -> 小爱音箱报警 + 自动开启散热风扇）。
* 🚧 **家庭看板**：部署 Homepage/Dashy，为全家人提供一个漂亮的导航页，一键直达所有服务。

### 💻 5. 极客与生产力 (For Geeks)

* ⏳ **云端开发环境**：部署 Code-Server (VS Code 网页版)，在 iPad 上随时随地写代码。
* ⏳ **私人代码仓库**：部署 Gitea/GitLab，托管你的个人项目代码。
* 🚧 **轻量级笔记**：部署 Memos/SiYuan/Notion-Next，拥有完全属于自己的知识库。
* 🚧 **Docker 游乐场**：学会使用 Portainer 管理容器，尝试运行各种有趣的开源项目（如 Minecraft 服务器、幻兽帕鲁服务器）。
* 🚧 **本地 AI 模型**：(进阶) 部署 Ollama + OpenWebUI，利用闲置算力运行本地大语言模型，保护对话隐私。

---

## 📚 教程目录与实施路线图

### 第一章：地基篇 —— 硬件与系统
>
> **🌟 实现功能**：拥有一台 7x24 小时稳定运行、带有数据冗余保护的服务器。

* **1.1 硬件选购逻辑**
  * 成品 NAS vs 自组 DIY：谁更适合你？
  * *实战案例*：JMB393 扩展卡与 RAID 5 阵列的组建方案。
  * *避坑指南*：SMR 叠瓦盘识别与电源纹波的重要性。
* **1.2 系统部署 (以 fnOS/Unraid 为例)**
  * 系统安装与 Root 权限获取。
  * **存储池构建**：Btrfs vs Ext4 选择，SSD 缓存加速配置。
  * **UPS 配置**：断电自动关机，保护硬盘寿命。

### 第二章：网络篇 —— 打通任督二脉
>
> **🌟 实现功能**：解决“移动/长城宽带无公网 IP”痛点，实现全球任意地点高速访问 NAS。

* **2.1 内网环境改造**
  * 光猫改桥接 + 路由器拨号：获取公网 IPv6 的前置条件。
  * 主路由设置：IPv6 Native 模式开启与防火墙端口放行 (TCP/UDP)。
* **2.2 远程访问实战 (IPv6 专版)**
  * **DDNS-Go 部署**：自动解析动态 IPv6 地址到阿里云/Cloudflare。
  * **Lucky / NPM 反向代理**：自动申请 SSL 证书，实现 HTTPS 安全访问。
  * *Troubleshooting*：解决 80/443 端口被封锁后的非标端口访问问题。

### 第三章：备份篇 —— 苹果生态与数据归档
>
> **🌟 实现功能**：彻底释放手机和电脑空间，数据多版本回溯，告别“存储焦虑”。

* **3.1 MacBook Time Machine (时间机器)**
  * Samba 协议优化：开启 `vfs_fruit` 模块提升 Mac 读写速度。
  * 配额管理：防止备份文件无限制通过，挤占电影空间。
* **3.2 手机照片管理 (Immich 实战)**
  * Docker 部署 Immich：替代 Google Photos/iCloud。
  * 硬件加速：开启核显转码与 AI 识图功能。
  * **多用户策略**：实现全家人的照片既能备份，又互不偷看。

### 第四章：娱乐篇 —— 影音与下载
>
> **🌟 实现功能**：利用移动宽带的大内网优势，挂机下载 4K 蓝光电影，并建立精美的海报墙。

* **4.1 下载中心 (PT/BT)**
  * **qBittorrent 优化**：针对 IPv6 环境的连接数与端口设置，解决上传没速度的问题。
  * 自动化工具：MoviePilot / Nastool 的配置，实现“想看什么，点一下就自动下载”。
* **4.2 家庭影院 (Jellyfin/Plex)**
  * 媒体库权限管理：不让孩子看到不该看的电影。
  * 硬解转码：在外网流畅播放 4K 高码率视频。

### 第五章：生活篇 —— 智能家居中枢
>
> **🌟 实现功能**：打破品牌壁垒，用 Siri 控制小米设备，用自动化逻辑接管生活。

* **5.1 Home Assistant (HA) 部署**
  * Docker 还是虚拟机？选择最稳定的运行方式。
* **5.2 设备接入与桥接**
  * HomeKit Bridge：将非 HomeKit 设备（如米家、涂鸦）反向接入苹果“家庭”App。
* **5.3 实用自动化案例**
  * *案例*：NAS 硬盘温度过高 -> 小爱音箱语音播报 + 自动开启散热风扇。

### 第六章：安全篇 —— 容灾与加密
>
> **🌟 实现功能**：构建“3-2-1”备份体系，即使家里发生火灾/被盗，数据依然在云端安然无恙。

* **6.1 本地敏感数据加密**
  * 利用 Rclone 自带的 Crypt 功能对文件夹进行混淆加密。
* **6.2 网盘冷备份实战**
  * **Rclone 配置**：挂载阿里云盘/115/OneDrive。
  * **定时脚本**：编写 Crontab，每晚凌晨 3 点自动将加密数据增量上传至网盘。

---
